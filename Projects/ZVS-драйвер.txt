    Резонансный пушпул (ZVS-драйвер)
https://github.com/gotchau/zvs_tiny

//------------------------------------------------------------------------------
	Однодроссельная схема vs двухдроссельная

При низком питающем напряжении обе схемы лучше, чем полумост/мост т.к. при изменении
тока нагрузки напряжение меняется слабо. Но напряжение на нагрузке лучше регулировать
изменением напряжения питания. При ШИМ или изменении частоты напряжение слишком искажается.

  Схема на логических элементах лучше обычной (на сопротивлениях и диодах)
т.к. во время запуска генерирует импульсы на частоте немного ниже резонансной
и все равно запускается при большом токе нагрузки.
  В обычной схеме во время запуска под нагрузкой транзисторы могут зависнуть оба в
полуоткрытом состоянии что приводит к замыканию БП и их выгоранию.
  Возможно здесь лучше подходит ФАПЧ CD4046 (ФК2) + компаратор Vds.
//------------------------------------------------------------------------------
	Двухдроссельная схема - LC_res_Push_pull_2L1.asc
RMS ток транзисторов немного выше, чем в однодроссельной схеме.
RMS ток дросселей примерно такой же, как у полуобмоток в однодроссельной схеме.
Но, зато первичка не пропускает через себя весь резонансный ток и можно
использовать трансформатор без зазора.

Конденсатор Сr=141 (3х47) нФ + 2 дросселя Lr1=Lr2=10,6 мкГн. Нагрузка 24,7 Ом.
Питание 12 В.
Коэффициент передачи Кu=3,35
(отношение амплитуды напряжения на конденсаторе к напряжению питания)
  На холостом ходу частота выше чем под нагрузкой.
  На вторичке после мостового выпрямителя и LC-фильтра напряжение падает с 40 до 22,7 В.
(в sqrt(3)=1,73 раз + падение на выпрямителе)
При понижении тока нагрузки <50% (зависит от дросселя на выходе) напряжение растет.
При этом ток дросселя становится прерывистым.
На холостом ходу около 41,55 В.
Теперь при уменьшении сопротивления нагрузки (увеличении тока) частота растет.
Нагрузка на вторичке вместо резистора выпрямитель и LC-фильтр позволяет снять
мощность минимум в 10 раз выше, но при этом время нарастания тока на выходе будет выше.
Именно приемлеммым временем нарастания, индуктивностью рассеивания и нагревом ограничена мощность.
//------------------------------------------------------------------------------
  Однодроссельная схема - LC_res_Push_pull_1L1.asc
Сr=141 нФ + Lr=2х4,88 мкГн + дроссель 20 мкГн. Нагрузка 23 Ом.
Питание 12 В.

Однодроссельная схема лучше двухдроссельной 
тем, что для двухдроссельной схемы нужно 2 одинаковых дросселя.

Частота в основном определяется индуктивностью полуобмоток первички,
которые выполняют роль резонансных дросселей с большой переменной составляющей тока.
Поэтому трансформатор без зазора не подходит.
  Дроссель тут работает как в понижающем преобразователе, с большой постоянной
составляющей тока (для небольшой мощности можно использовать одножильный провод, а не многожильный).
  Увеличение индуктивности дросселя в 10 раз с 10 мкГн до 100  мкГн
Понижает частоту с 96,57 кГц до 92,8 кГц, 20 мкГн: 94,62 кГц.
  На холостом ходу частота выше чем под нагрузкой.
Кроме того при этом уменьшается переменная составляющая тока, через дроссель.
(удвоенная частота) и падает амплитуда на нагрузке с 39,18 В до 38,35 В.
  Оптимальное значение индуктивности дросселя = 2...5 индуктивности полуобмотки.
Слишком большая индуктивность приводит к медленно затухающей 
низкочастотной модуляции амлитуды при запуске на холостом ходу.
  На вторичке после мостового выпрямителя и LC-фильтра напряжение падает с 38,7 до 22,7 В.
(в sqrt(3)=1,73 раз + падение на выпрямителе). 
При понижении тока нагрузки <50% (зависит от дросселя на выходе) напряжение растет.
При этом ток дросселя становится прерывистым.
На холостом ходу около 42,4 В.
Теперь при уменьшении сопротивления нагрузки (увеличении тока) частота растет.
Нагрузка на вторичке вместо резистора выпрямитель и LC-фильтр позволяет снять
мощность минимум в 10 раз выше, но при этом время нарастания тока на выходе будет выше.
Именно приемлеммым временем нарастания, индуктивностью рассеивания и нагревом ограничена мощность.
  Если на вторичке удвоитель напряжения, то на холостом ходу напряжение 74,54 В.
При напряжении питания 12 В и напряжении на стоках 38,14 В.
Под нагрузкой напряжение сильно падает из-за индуктивности рассеивания.

//------------------------------------------------------------------------------
Комментарии

	LTspice

  Voltage Controlled Switch

гистерезис в идеальном ключе лучше ставить отрицательный (плавное вкл./выкл.) иначе LTspice
тормозит (1.9ps/s).
//------------------------------------------------------------------------------
Оптодрайвер на 6N137 + LM7805 + IR4426
Транзистор IRFB3806 Rg=4,7 Ом. Без нагрузки (полумост без силового питания)
  Нижний драйвер:
1,20 МГц. Потребление 13,10 В 49 мА
2,40 МГц. Потребление 13,05 В 79,3 мА
1,20 МГц. Потребление 12,26 В 46,4 мА
2,40 МГц. Потребление 12,26 В 74,1 мА

//------------------------------------------------------------------------------
2x IRF530N, 2x 11DQ10 2x 470 Ом 1 Вт 2x90 мкГн (0,1 Ом)
10.00 В 0.06 А 2x90 мкГн + 0,1 мкФ х 400 В CBB21 37,90 кГц (53,051 кГц расчет)
10.00 В 0.07 А 2x90 мкГн + 0,2 мкФ х 400 В CBB21 26,95 кГц
10.00 В 0.04 А 2x90 мкГн + 50 нФ 53,3 кГц
10.00 В 0.09 А 2x10 мкГн + 10 нФ 383 кГц (470 Ом параллельно 300 Ом)
 9.97 В 0.61 А Нагрузка 100 Ом (3х100 2Вт)
10.07 В 0.14 А 896 кГц
10.01 В 0.62 А Нагрузка 100 Ом 

  IRF3710_D44H11_30nF. 
Для запуска приходится кратковременно коротнуть базу одного эм. повторителя.
10.05 В 0.18 А 828 кГц
10.00 В 0.65 А 828 кГц

Резонансная емкость 5 нФ слишком мала для устойчивой работы даже на низкой частоте 89,6 кГц.
Даже на холостом ходу.

10.00 В 0.05 А 2x10 мкГн + 10 нФ 383 кГц
//------------------------------------------------------------------------------
  Нет в наличиии:
	Схема и вид_Flyback_+1500V.doc
Источник питания +1500 В, 20 мА (30 Вт),. Uвх= 130-264 В, f=50 кГц 
T1: E30/15/7 материал N87 общий зазор 0,6 мм 
(под боковые керны положил по 3 куска бумаги от стандартного ксероксного А4), вертикальный каркас 12 выв. 
Намотка вторичной обмотки:
II.1 - (30+31) + (30+31) II.2 - (30+31) + (30+31)
II.3 - (30+31) + (30+31) II.4 - (30+31) + (30+31), 
всего 488 витков d=0,15 мм. В скобках показана одна секция.
	Потом 2 слоя изоляции и намотана первичная обмотка 24+23+23=70 витков d=0,56 мм (3 слоя). И два слоя внешней изоляции.

//------------------------------------------------------------------------------
  Есть в наличиии:
	LC_gen_2.doc
T1: E30/15/7 материал N87 общий зазор 0,6 мм 
(под боковые керны положил по 3 куска бумаги от стандартного ксероксного А4), вертикальный каркас 12 выв. 
Намотано 15 слоев по 50 витков=750 витков d=0,125 мм. Сопротивление вторичной обмотки RII=44,7 Ом 
(длина провода примерно 31,9 м т.к  сопротивление 1м - 1,4 Ом).
Ширина намотанной вторички 15,5 мм (для сравнения с другими вариантами намотки)
	Потом 2 слоя изоляции и намотана первичная обмотка I - 10 витков d=0,61 мм. И два слоя внешней изоляции.
1-й слой 3 витка 6х0,56. Провода нескручены, просто уложены рядом. 
2-й слой 2 витка 6х0,56 мм
Провода запараллелелены через один вместе. Полочилось 2 обмотки по 5 витков проводом 3х0,56.
Обмотки соединены последовательно.
 Длина провода 6х0,46 м.
//------------------------------------------------------------------------------
попробовать 60х10 витков d=0,16 мм. Под первым слоем на каркасе 1 слой изоляции.
и лучше 600/10 витков, чтобы 3200 было только при повышении до 15 В.
GTEH-48V5000-E
//------------------------------------------------------------------------------
//------------------------------------------------------------------------------
  Низковольтный резонансный инвертор
  Трансформатор:
Сердечник E30/15/7 N87 EPCOS
Сначала обмотка III 10 витков проводом 2x0,56 мм, длина провода 0,5 м.
Сопротивление 17 мОм (1 А).
Потом 3 слоя скотча.
Потом обмотка 2х 5 витков проводом 3x0,56 мм (6 проводов параллельно)

  Сначала тест на полумосте. 
//------------------------------------------------------------------------------
Параллельный резонансный инвертор PRC (Parallel resonant converter)
(последовательный контур, первичка параллельно конденсатору, без зазора)
Резонансный конденсатор Сr=141 (3х47) нФ
Резонансный дроссель Lr1=10,6 мкГн

 На вторичке:
Выпрямитель мост 31DQ100. после выпрямителя шунт 0,1 Ом и LC фильтр:
21,8 мкГн + (2 х 1000 мкФ х 50 В Samwha WL + 1,0 мкФ х 100 В CBB21)

P1= 9,94В 1,025А; P2=18,20 В 0,463 А 133,7 кГц Rн=40 Ом (2х20 Ом 10 Вт)

P1=12,74В 1,331А; P2=23,89 В 0,590 А 133,7 кГц Rн=41 Ом
КПД=(P2/P1)*100=83,12%

P1=22,8В 1,368А; P2=23,58 В 1,164 А 134,6 кГц Rн=20 Ом
КПД=(P2/P1)*100=87,999% I_L1pk=4,24 А, I_L1rms=3,12 А

  После моста RC-цепь 100 Ом + 1 нФ х 1 кВ:
P1=22,8В 1,373А; P2=23,61 В 1,167 А 134,0 кГц Rн=20 Ом
КПД=(P2/P1)*100=88,02%

  После моста RC-цепь 100 Ом + 470 пФ х 2 кВ:
P1=22,8В 1,370А; P2=23,59 В 1,164 А 134,4 кГц Rн=20 Ом
КПД=(P2/P1)*100=87,91%

  После моста RC-цепь 100 Ом + 470 пФ х 2 кВ:
Резонансный дросслеь 2 шт 10,6 мкГн последовательно
P1=33,4В 0,930А; P2=23,58 В 1,163 А 104,5 кГц Rн=20 Ом
КПД=(P2/P1)*100=88,29%

//------------------------------------------------------------------------------
Последовательный резонансный инвертор SRC (Series resonant converter)
Трансформатор последовательно контуру 
  Дроссель L2 после выпрямителя замкнут, на вторичке прямоугольные импульсы, на конденсаторе Cr синус.
P1=27,2В 0,902 А; P2=20,86 В 1,030 А 100,1 кГц Rн=20 Ом
КПД=(P2/P1)*100=87,57%

  Если разомкнуть L2, то на вторичке появляются выбросы, что опасно для выпрямителя.
При этом напряжение после дросселя падает.
P1=27,2В 0,808 А; P2=19,64 В 0,971 А 92,7 кГц Rн=20 Ом
КПД=(P2/P1)*100=86,77%
  Пленочный конденсатор на выходе моста, до дросселя, U1=27,2 В:
без конденсатора: 19,78 В
10 нФ х 1 кВ: 18,88 В
22 нФ х 1 кВ: 16,54 В
47 нФ х 1 кВ: P1=30,2В 1,044 А; P2=23,62 В 1,166 А 110,2 кГц Rн=20 Ом
КПД=(P2/P1)*100=87,35%

2х47 нФ х 1 кВ: P1=30,3В 1,033 А; P2=23,62 В 1,166 А 110,2 кГц Rн=20 Ом
КПД=(P2/P1)*100=87,99%
//------------------------------------------------------------------------------
  LLC SPRC
E30 
2 слоя по 10 = 20 витков проводом 0,56 мм, длина провода 0,89 м.
на половине каркаса

И еще одна такае же обмотка на второй половине каркаса (вторичка)
Резонансный конденсатор Сr=141 (3х47) нФ х 1 кВ
Зазор 0,4 мм: 43,86 кГц /88,70 кГц (кз вторички) 2,24 В 1,00 А / 2,73 В 1,00 А
Зазор 0,8 мм: 55,28 кГц /90,53 кГц (кз вторички) 1,78 В 1,00 А / 2,63 В 1,00 А

Зазор 1,0 мм: 58,60 кГц /90,80 кГц (кз вторички) 
  
  Тесты на хх лучше проводить от БП с ограничением по току 0,5...1,0 А.
Это ограничит напряжение на реактивных элементах до безопасного уровня.
Т.к. на резонансном конденсаторе Cr напряжение в противофазе с первичкой.
Сдвиг фаз можно мерять между напряжением на Cr и Uw2 (вторичкой).
С увеличением зазора fхх растет быстрее, чем fкз. 
  Соотношение L1m/L1s уменьшается.
L1m - индуктивность намагничивания первички (при разомкнутой вторичке)
L1s - индуктивность рассеивания первички (при кз вторички).
  Также падает волновое сопротивление контура, а следовательно растет передаваемая
мощность, хотя при этом коэффициент связи и U2/U1 падает.
  Конденсатор на вторичке 47...3х47 нФ не приводит к повышению напряжения после
 выпрямителя, а 4х47 нФ, 5х47 нФ приводит.
После выпрямителя дроссель 22 мкГн. Увеличение до 2х22 мкГн приводит
к небольшому снижению напряжения на нагрузке Uн: 17,68/17,28 В
Закорачивание дросселя приводит к снижению Uн.
//------------------------------------------------------------------------------  


//------------------------------------------------------------------------------
Однодроссельная схема. Зазор 0,5 мм 

//------------------------------------------------------------------------------
https://github.com/forregister84/ZVS_driver
https://www.electroboom.com/?p=1198

ZVS driver (Push-Pull) safe StartUp
Безопасный запуск ZVS driver (Push-Pull)

Как упоминал Mehdi (Electroboom) при медленно нарастающем напряжении питания 
ZVS driver может не запустится и оба транзистора останутся в полуоткрытом 
состоянии на долгое время, что приводит к выгоранию.
  Предлагаемая схема более безопасна, чем обычная схема. 
Нужно только настроить частоту запуска немного ниже резонанса.

Упрощенная схема без Under voltage lock-out с инвертирующим драйвером MOSFET 
(Inverting MOSFET driver).

//------------------------------------------------------------------------------
  Радиаторы для транзисторов
для небольшой мощности (30 Вт) подойдут StoneCold D02A (HS-S02), D01A (HS-S03)
для большей мощности: HS-135, HS-142

//------------------------------------------------------------------------------
ZVS_Schmitt_drv_inv_5_DIP2
Защита от пониженного Vcc(UVLO) Вкл. >10.7 В, Выкл. <10.0 В
Делитель: верхний резистор R1=33k, нижний резистор R2=10k
Резистор гистерезиса (нижний порог): 470k вместо 430k 10,52 / 10,02 Вкл
Погрешность = -1,7%

Потребление с 74HC14 без драйверов 11,54 В, 7,6 мА, с драйверами 9,8 мА
+ 2x IRF3710: 11,49 В, 20,6 мА.


//------------------------------------------------------------------------------
Резонансный конденсатор Сr=141 (3х47) нФ х 1 кВ


//------------------------------------------------------------------------------
RC-цепи сток-исток : 4,7 нФ х 1 кВ + 100 Ом 3 Вт на обоих транзисторах
  Потребение схемы управления на хх:
11,78 В, после 1N5819: 11,50 В 23,5 мА (77,16 кГц)

Силовое питание 15,0 В 148,7 мА -> 146,3 мА (99,01 кГц)
  Потребение схемы управления:
11,78 В, после 1N5819: 11,50 В 23,5 мА 

  Отключил RC-цепи от стоков:
Силовое питание 15,03 В 98,5 мА -> 96,6 мА (100,2 кГц)
  Потребение схемы управления:
11,78 В, после 1N5819: 11,50 В 23,6 мА 

Силовое питание 22,00 В 149,3 мА -> 145,6 мА (99,8 кГц)
  Потребение схемы управления:
11,78 В, после 1N5819: 11,50 В 22,1 мА 

При повышении до 23,0 В схема работает не стабильно (дрожит период)

  Параллельно сток-исток : 4,7 нФ х 1 кВ на обоих транзисторах:
Силовое питание 15,01 В 96,4 мА -> 95,3 мА (98,8 кГц)
  Потребение схемы управления:
11,78 В, после 1N5819: 11,50 В 23,6 мА 

Силовое питание 22,00 В 146,9 мА -> 145,5 мА (98,2 кГц)
  Потребение схемы управления:
11,78 В, после 1N5819: 11,50 В 23,1 мА 

При повышении до 27,0 В схема работает стабильно !
Силовое питание 27,00 В 183,3 мА (98,2 кГц)
//------------------------------------------------------------------------------
RC-цепи сток-исток : 4,7 нФ х 1 кВ + 1 Ом 1 Вт на обоих транзисторах

Силовое питание 15,03 В 98,1 мА -> 96,2 мА (98,8 кГц)
  Потребение схемы управления:
11,78 В, после 1N5819: 11,50 В 23,6 мА 

Силовое питание 22,00 В 149,2 мА -> 146,2 мА (98,2 кГц)
  Потребение схемы управления:
11,78 В, после 1N5819: 11,50 В 23,1 мА 

Силовое питание 24,00 В 161,6 мА (98,2 кГц)
При повышении до 24,3 В схема работает не стабильно (дрожит период)
